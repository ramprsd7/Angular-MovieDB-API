<app-header></app-header>


<br/>
<marquee style="color: #000; font-size:x-large; font-weight:500px;" behavior="alternate">
    Top Rated Movies List & Search to find any Movies easily available..
</marquee>

<br/><br/>

<div class="listing">

    <form>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" class="form-control searchdesign" placeholder="Search for any movies from TMDB..." [(ngModel)]="searchStr" name="searchStr" (keyup.enter)="searchMovies()">
                        <span class="input-group-btn">
                            <button class="btn btn-primary btnDesign" type="button" (click)="searchMovies()"> Go!</button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <!-- Search results -->
    <ng-container *ngIf="searchRes ">
        <div class="row " *ngIf="!loader ">
            <div class="col-md-2 listing__items " *ngFor="let movie of searchRes | slice:0:14 ">
                <div class="listing-item-style ">
                    <img *ngIf="movie?.poster_path " src="https://image.tmdb.org/t/p/w370_and_h556_bestv2/{{movie?.poster_path}} " [alt]="movie.title ? movie.title : movie.name ">
                    <img *ngIf="!movie?.poster_path " src="assets/images/default-movie.png " [alt]="movie.title ? movie.title : movie.name ">
                    <h6>{{ movie?.title }}</h6>
                    <p class="rate "><i class="material-icons ">star</i><span>{{movie?.vote_average}}</span> /10</p>
                    <p class="year "><span>{{movie?.release_date | date: 'yyyy'}}</span>
                    </p>
                </div>
            </div>
            <div class="col-md-10"></div>
        </div>
    </ng-container>


    <!-- Top Rated Movies List -->
    <div class="row " *ngIf="!loader ">
        <div class="col-md-3 listing__items " *ngFor="let movie of topRated | slice:0:18 ">
            <div class="listing-item-style ">
                <img src="https://image.tmdb.org/t/p/w370_and_h556_bestv2/{{movie?.poster_path}} " [alt]="movie.title ? movie.title : movie.name ">
                <img *ngIf="!movie?.poster_path " src="assets/images/default-movie.png " [alt]="movie.title ? movie.title : movie.name ">
                <h2>{{ movie?.title }} -
                    <span>{{movie?.release_date | date: 'yyyy'}}</span></h2>
                <p class="rate "><i class="material-icons ">star</i><span>{{movie?.vote_average}}</span> /10 </p>
            </div>
        </div>
        <!-- <mat-paginator [length]="totalResults" [pageSize]="20" (page)="changePage($event)"></mat-paginator> -->
        <div class="col-md-9"></div>
    </div>

</div>
<app-footer></app-footer>